import{r as e}from"./index.UCAuQZPX.js";import{u as k,f as $,a as O,P as T,L as U}from"./motion.A0eD1SIK.js";import{j as M}from"./jsx-runtime.G4i-1Giy.js";function I(){const n=e.useRef(!1);return k(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function b(){const n=I(),[s,t]=e.useState(0),r=e.useCallback(()=>{n.current&&t(s+1)},[s]);return[e.useCallback(()=>$.postRender(r),[r]),s]}class B extends e.Component{getSnapshotBeforeUpdate(s){const t=this.props.childRef.current;if(t&&s.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function S({children:n,isPresent:s}){const t=e.useId(),r=e.useRef(null),h=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:d,height:l,top:a,left:m}=h.current;if(s||!r.current||!d||!l)return;r.current.dataset.motionPopId=t;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${l}px !important;
            top: ${a}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[s]),e.createElement(B,{isPresent:s,childRef:r,sizeRef:h},e.cloneElement(n,{ref:r}))}const v=({children:n,initial:s,isPresent:t,onExitComplete:r,custom:h,presenceAffectsLayout:d,mode:l})=>{const a=O(Z),m=e.useId(),f=e.useMemo(()=>({id:m,initial:s,isPresent:t,custom:h,onExitComplete:o=>{a.set(o,!0);for(const c of a.values())if(!c)return;r&&r()},register:o=>(a.set(o,!1),()=>a.delete(o))}),d?void 0:[t]);return e.useMemo(()=>{a.forEach((o,c)=>a.set(c,!1))},[t]),e.useEffect(()=>{!t&&!a.size&&r&&r()},[t]),l==="popLayout"&&(n=e.createElement(S,{isPresent:t},n)),e.createElement(T.Provider,{value:f},n)};function Z(){return new Map}function A(n){return e.useEffect(()=>()=>n(),[])}const p=n=>n.key||"";function D(n,s){n.forEach(t=>{const r=p(t);s.set(r,t)})}function G(n){const s=[];return e.Children.forEach(n,t=>{e.isValidElement(t)&&s.push(t)}),s}const W=({children:n,custom:s,initial:t=!0,onExitComplete:r,exitBeforeEnter:h,presenceAffectsLayout:d=!0,mode:l="sync"})=>{const a=e.useContext(U).forceRender||b()[0],m=I(),f=G(n);let o=f;const c=e.useRef(new Map).current,R=e.useRef(o),E=e.useRef(new Map).current,g=e.useRef(!0);if(k(()=>{g.current=!1,D(f,E),R.current=o}),A(()=>{g.current=!0,E.clear(),c.clear()}),g.current)return e.createElement(e.Fragment,null,o.map(i=>e.createElement(v,{key:p(i),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:d,mode:l},i)));o=[...o];const y=R.current.map(p),w=f.map(p),F=y.length;for(let i=0;i<F;i++){const u=y[i];w.indexOf(u)===-1&&!c.has(u)&&c.set(u,void 0)}return l==="wait"&&c.size&&(o=[]),c.forEach((i,u)=>{if(w.indexOf(u)!==-1)return;const L=E.get(u);if(!L)return;const j=y.indexOf(u);let C=i;if(!C){const K=()=>{c.delete(u);const P=Array.from(E.keys()).filter(x=>!w.includes(x));if(P.forEach(x=>E.delete(x)),R.current=f.filter(x=>{const z=p(x);return z===u||P.includes(z)}),!c.size){if(m.current===!1)return;a(),r&&r()}};C=e.createElement(v,{key:p(L),isPresent:!1,onExitComplete:K,custom:s,presenceAffectsLayout:d,mode:l},L),c.set(u,C)}o.splice(j,0,C)}),o=o.map(i=>{const u=i.key;return c.has(u)?i:e.createElement(v,{key:p(i),isPresent:!0,presenceAffectsLayout:d,mode:l},i)}),e.createElement(e.Fragment,null,c.size?o:o.map(i=>e.cloneElement(i)))},_=()=>M.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"fill-customPrimary",children:[M.jsx("path",{d:"M11.3709 9.59273L8.77816 7L1 14.7782L3.59272 17.3709L11.3709 9.59273Z"}),M.jsx("path",{d:"M15.2218 7L23 14.7782L20.424 17.3542L15.2218 12.152L10.0197 17.3542L7.44367 14.7782L15.2218 7Z"})]});export{W as A,_ as T};
